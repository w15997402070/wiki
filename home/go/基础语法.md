# 基础语法

[toc]

## 数据类型

### 整型

* 按长度分为：int8、int16、int32、int64

* 还有对应的无符号整型：uint8、uint16、uint32、uint64

  uint8就是我们熟知的byte型



### 浮点型

Go语言支持两种浮点型数：float32和float64

### 布尔型

布尔型数据在Go语言中以bool类型进行声明,布尔型数据只有true（真）和false（假）两个值。

### 字符串

#### 多行字符串

```go
str = `第一行
第二行
第三行
\r\n
`
//上面的转义字符也无效会原样输出
```

### 字符

Go语言的字符有以下两种：

*  一种是uint8类型，或者叫byte型，代表了ASCII码的一个字符。

* 另一种是rune类型，代表一个UTF-8字符。当需要处理中文、日文或者其他复合字符时，则需要用到rune类型。rune类型实际是一个int32。

```go
var a byte = 'a'
fmt.Printf("%d %T\n", a, a)

var b rune = '你'
fmt.Printf("%d %T\n", b, b)
```

### 切片——能动态分配的空间

切片是一个拥有相同类型元素的可变长度的序列

```go
//T代表切片元素类型，可以是整型、浮点型、布尔型、切片、map、函数等
var name [] T

//例
a := make ([] int, 3)
a[0] = 1
a[1] = 2
a[3] = 3

```

## 变量

```go
//标准格式
var 变量名 类型 = 表达式
var hp int = 100

//编译器推导
var hp = 100

//短变量名 推导声明写法的左值变量必须是没有定义过的变量 若定义过，将会发生编译错误
hp := 100
//多个变量同时赋值,多重赋值时，变量的左值和右值按从左到右的顺序赋值
var a int = 100
var b int = 200
b,a = a,b
//匿名变量 用"_"只需要在变量声明的地方使用下画线替换即可
a,  _ := 100, 200
```

## 指针

指针概念在Go语言中被拆分为两个核心概念：

* 类型指针，允许对这个指针类型的数据进行修改。传递数据使用指针，而无须拷贝数据。类型指针不能进行偏移和运算。
* 切片，由指向起始元素的原始指针、元素数量和容量组成。

### 指针地址和指针类型

每个变量在运行时都拥有一个地址，这个地址代表变量在内存中的位置。Go语言中使用“&”操作符放在变量前面对变量进行“取地址”操作。

```go
//其中v代表被取地址的变量，被取地址的v使用ptr变量进行接收，ptr的类型就为“*T”，称做T的指针类型。“*”代表指针
ptr := &v //v的类型为T
```

```go
package main

import "fmt"

func main()  {
	//fmt.Println("Hello World")

	var cat int = 1
	var str string = "banana"
	fmt.Printf("%p %p", &cat, &str)
}

//输出两个指针值
0xc00000a0b8 0xc0000381f0
```

提示：变量、指针和地址三者的关系是：每个变量都拥有地址，指针的值就是地址

### 从指针获取指针指向的值

在对普通变量使用“&”操作符取地址获得这个变量的指针后，可以对指针使用“*”操作，也就是指针取值，代码如下。

```go
package main

import "fmt"

func main()  {
//字符串类型数据
	var house = "Malibu Point 10880, 90265"
	//对字符串取地址 ptr类型为*string
	ptr := &house
    //打印ptr类型
	fmt.Printf("ptr type: %T\n", ptr)
   //打印ptr的指针地址
	fmt.Printf("adress: %p \n", ptr)
    //对指针进行取值
	value := *ptr
	//取值后的类型
	fmt.Printf("value type: %T\n", value)
    //指针取值后就是指向变量的值
	fmt.Printf("value: %s \n", value)
}
```

### 使用指针修改值

```go
package main

import "fmt"

func swap(a, b *int)  {
	//取出a指针的值,赋给变量t
	t := *a
	//取b指针的值赋给a指针指向的变量
	*a = *b
	//将a指针的值赋给b指针指向的变量
	*b = t
}

func main() {
    //准备两个变量,赋值1和2
	x, y := 1, 2
	//交换变量值
	swap(&x, &y)

	fmt.Println(x, y)
}
//输出2, 1
```

### 使用指针变量获取命令行的输入信息



### 创建指针的另一种方法——new()函数

```go
//new(类型)
str := new(string)
*str = "ninja"
fmt.Println(*str)
```



## 其他

fmt.Printf中的“%T”动词可以输出变量的实际类型