# 大型网站架构

架构要素 :

* 性能

* 可用性

* 伸缩性

* 扩展性

* 安全性

  

性能测试指标 : 

1. 响应时间

2. 并发数 指系统能够同时处理请求的数目

3. 吞吐量 指单位时间内系统处理请求的数量

   * TPS 每秒事务数
   * HPS 每秒请求数
   * QPS 每秒查询数

4. 性能计数器 描述服务器或操作系统性能的一些数据指标

   * System Load 系统负载 指当前正在被CPU和等待被CPU执行的进程数目总和

性能测试方法 : 

* 性能测试
* 负载测试
* 压力测试
* 稳定性测试

## web性能优化 : 

* 浏览器访问优化 :

1. 减少HTTP请求
2. 使用浏览器缓存
3. 启用压缩
4. css放在页面最上面,js放在页面最下面
5. 减少cookie传输

* CDN加速

​    CDN(Content Distribute Network,内容分发网络)的本质仍是缓存,而且将数据缓存在离用户最近的地方,使用户以最快的速度获取数据 

* 反向代理

## 应用服务器性能优化

* 分布式缓存   `网站性能优化第一定律:优先考虑使用缓存优化性能`
* 异步操作 使用消息队列将调用异步化,可改善网站的扩展性.`任何可以晚点做的事情都应该晚点再做`
* 使用集群 使用负载均衡技术将一个应用构建一个由多台服务器组成的服务器集群,将并发访问请求分发到多台服务器上处理,避免单一服务器因负载压力过大而响应缓慢,使用户请求具有更好的响应延迟特性
* 代码优化
  * 多线程
  * 资源复用
  * 数据结构
  * 垃圾回收

## 存储性能优化

