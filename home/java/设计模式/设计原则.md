# 设计原则

## 面向对象设计原则:

**高内聚、低耦合。多聚合、少继承**

内聚：每个模块尽可能独立完成自己的功能，不依赖于模块外部的代码。

耦合：模块与模块之间接口的复杂程度，模块之间联系越复杂耦合度越高

1. 找出应用中可能变化的地方,把它们独立出来,不要和那些不需要变化的代码混合在一起.  
    把会变化的部分封装起来,好让其他部分不受到影响.
2. 针对接口编程而不是针对实现编程.  
3. 多用组合,少用继承

## 6大设计原则

### 单一职责原则

单一职责原则强调一个类或模块应仅有一个引起其变化的因素（职责)

单一职责可能产生的问题:

* 设计类数量的增加
* 破坏类的封装特性

### 里氏替换原则

建议子类对象必须能够完全替换掉它们的父类对象，而不需要改变父类的任何属性

问题:

* 可扩展性差
* 引入程序逻辑错误

### 依赖倒置原则

高层模块不应依赖于低层模块，二者都应该依赖于抽象；抽象不应依赖于细节，细节应依赖于抽象。

问题:

* : 增加了代码的复杂度。依赖倒置的设计方式无疑会增加接口或抽象类的数量，会使得软件代码结构变得抽象或复杂。

### 接口隔离原则

接口隔离原则指出，如果某个接口的行为不是内聚的，就应该按照业务分组，并将分组后的业务行为通过隔离的接口单独定义

问题:

* 接口数量“爆炸”。按照接口隔离原则对目标系统的业务行为分组，将会产生巨大数量的细粒度接口定义；如同类“爆炸”概念一样，当接口过多时，也会导致软件开发或维护成本的急剧增加。
* 代码抽象度高。抽象度高的代码具有稳定性、可复用性等优点，面向抽象编程较为推崇这种代码设计思维。但也应指出，代码抽象度越高，代码实现越复杂；代码抽象度越高，代码可读性（或可理解度）越差！

### 迪米特法则

### 开闭原则

开放/闭合原则要求类或模块的代码“对扩展是开放的（Open for Extension），对修改是关闭的”（Close for Modification

问题:

* 代码可读性降低。由于使用了抽象，代码设计逻辑与业务需求逻辑相比会产生变化，抽象代码层隐藏了具体的业务细节，大大降低了代码的可读性
* 程序测试成本增加