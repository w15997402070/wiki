# sql名词

## 名词解释

* 关系：一个关系对应通常所说的一张表。
* 元组：表中的一行即为一个元组。
* 属性：表中的一列即为一个属性；每一个属性都有一个名称，称为属性名。
* 候选码：表中的某个属性组，它可以唯一确定一个元组。
* 主码：一个关系有多个候选码，选定其中一个为主码。
* 域：属性的取值范围。
* 分量：元组中的一个属性值。

## ER图例说明

* 矩形：表示实体集，矩形内写实体集的名字
* 菱形：表示联系集
* 椭圆：表示实体的属性
* 线段：将属性连接到实体集，或将实体集连接到联系集

## 数据操作异常及数据冗余

### 操作异常

* 插入异常：如果某实体随着另一个实体的存在而存在，即缺少某个实体时无法表示这个实体，那么这个表就存在插入异常。
* 更新异常：如果更改表所对应的某个实体实例的单独属性时，操作异常一需要将多行更新，那么就说这个表存在更新异常。
* 删除异常：如果删除表的某一行来反映某实体实例失效时导致另一个不同实体实例信息丢失，那么这个表中就存在删除异常。

### 数据冗余：

是指相同的数据在多个地方存在，或者说表中的某个列可以由其它列计算得到，这样就说表中存在着数据冗余。

## 范式

### 第一范式（1NF）

定义：数据库表中的所有字段都是单一属性，不可再分的。这个单一属性是由基本的数据类型所构成的，如整数，浮点数，字符串，等；

换句话说第一范式要求数据库中的表都是二维表。

例如 : 

| id   | 用户名   | 密码 | 姓名 | 电话        |
| ---- | -------- | ---- | ---- | ----------- |
| 1    | xiaoming | **** | 小明 | 18888888888 |

| id   | 用户名 | 密码 | 用户信息       |
| ---- | ------ | ---- | -------- |
|      |        |      | 姓名                       \|       电话 |
| 1 | xiaoming | **** | 小明                       \|      1888888888 |

### 第二范式（2NF）

定义：数据库的表中不存在非关键字段对任一候选关键字段的部分函数依赖。
                  部分函数依赖是指存在着组合关键字中的某一关键字决定非关键字的情况。
                  换句话说：所有单关键字段的表都符合每二范式。

### 第三范式（3NF）

定义：第三范式是在第二范式的基础之上定义的，如果数据表中不存在非关键字段对任意候选关键字段的传递函数依赖则符合第三范式。

## 字段类型的选择原则
以上选择原则主要是从下面两个角度考虑：

* 1.在对数据进行比较（查询条件、JOIN条件及排序）操作时：
  同样的数据，字符处理往往比数字处理慢。
* 2.在数据库中，数据处理以页为单位，列的长度越小，利于性能提升。

### decimal与float如何选择
原则：

* 1.decimal用于存储精确数据，而float只能用于存储非精确数据。故精确数据只能选择用decimal类型。
* 2.由于float的存储空间开销一般比decimal小（精确到7位小数只需要4个字节，而精确到15位小数只需要8字节）故非精确数据优先选择float类型。

### 时间类型如何存储
* 1.使用int来存储时间字段的优缺点

  * 优点：字段长度比datetime小。

  * 缺点：使用不方便，要进行函数转换。
    限制：只能存储到2038-1-1911：14：07即2^32为21474836482.

* 需要存储的时间粒度
  年 月 日 小时 分 秒 周