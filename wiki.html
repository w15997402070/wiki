<!--
title: 搭建私人wiki
description: 搭建私人wiki
published: true
date: 2020-09-07T15:11:23.054Z
tags: 
editor: undefined
-->

<h1>WiKi.js &nbsp;Docker搭建</h1>
<p>wiki.js界面美观,适合文章类wiki</p>
<p>官方网址 : https://docs.requarks.io/</p>
<p>docker搭建过程</p>
<ol>
  <li>下载镜像</li>
</ol>
<p><mark class="marker-yellow">docker &nbsp;pull requarks/wiki:2.4</mark> &nbsp;(2.4现在稳定,最新版启动之后登陆不了)</p>
<p>在外部主机中创建 <mark class="marker-yellow">/mydata/wiki/conf/&nbsp;</mark></p>
<p>先 &nbsp;把容器启动一次</p>
<p>docker run -d -p 8090:3000 --name wiki --privileged=true requarks/wiki:2.4</p>
<p>复制出配置文件</p>
<p>docker cp wiki:/wiki/config.yml ./</p>
<p>停止容器</p>
<p>docker &nbsp;stop wiki</p>
<p>删除容器</p>
<p>docker &nbsp;rm wiki修改配置文件</p>
<p>db:</p>
<p>&nbsp;type: mysql</p>
<p>&nbsp;host: localhost</p>
<p>&nbsp;port: 33.6</p>
<p>&nbsp;user: wikijs</p>
<p>&nbsp;pass: wikijsrocks</p>
<p>&nbsp;db: wiki</p>
<p>&nbsp;ssl: false</p>
<p>这里配置以MySQL作为数据库,可以选择其他数据库具体看官方文档</p>
<p>再启动容器</p>
<p>2. &nbsp;启动容器</p>
<p>docker run -d -p 8090:3000 --name wiki --restart unless-stopped -v <mark class="marker-yellow">/mydata/wiki/conf/config.yml:/wiki/config.yml</mark> &nbsp;--privileged=true requarks/wiki:2.4</p>
<p>&nbsp; -p : 8090:3000 &nbsp; 将启动端口映射到外部的8090端口</p>
<p>重点在这个配置文件</p>
<h1>TiddlyWiki</h1>
<p>界面较简单,适合tips类的便签</p>
<p>github地址 : https://github.com/Jermolene/TiddlyWiki5</p>
<ol>
  <li>安装nodeJs &nbsp;&nbsp;<mark class="marker-yellow">yum install nodejs</mark></li>
  <li>安装tiddlywiki &nbsp; &nbsp;<mark class="marker-yellow">npm install -g tiddlywiki</mark></li>
  <li>检查是否安装成功 <mark class="marker-yellow">tiddlywiki --version</mark></li>
  <li>创建一个服务端 &nbsp;&nbsp;<mark class="marker-yellow">tiddlywiki mynewwiki --init server</mark></li>
  <li>启动 <mark class="marker-yellow">tiddlywiki mynewwiki --listen &nbsp;&nbsp;</mark>,这样就可以用 <a href="http://127.0.0.1:8080/">http://127.0.0.1:8080/</a> &nbsp;在浏览器中访问了</li>
  <li>注意1 : &nbsp;启动时可以加其他参数例如 : &nbsp;tiddlywiki mynewwiki --listen port=8090 host=0.0.0.0</li>
</ol>
<p>注意2 : &nbsp;启动时需要在创建服务端时创建的文件目录下启动</p>
<p>例如在/home &nbsp;目录下运行的4步骤的命令,就会在/home目录下创建一个<mark class="marker-yellow">mynewwiki</mark>的文件夹,启动时也要在/home目录下</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
